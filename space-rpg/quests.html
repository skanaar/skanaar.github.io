<!DOCTYPE html>
<html>
<head>
  <title>space rpg</title>
  <link rel="shortcut icon" href="favicon.png">
  <link rel="stylesheet" href="editor.css" >
  <link rel="stylesheet" href="lib/codemirror.css">
  <link rel="stylesheet" href="lib/night.css">
  <style>
    .CodeMirror {
      position: fixed;
      left: 250px;
      top: 26px;
      right: 0;
      font-size: 16px;
      font-family: Menlo, Consolas, monospace;
      padding: 30px 10px 30px 10px;
    }
  </style>
</head>
<body>
  <main-menu></main-menu>
  <quest-list></quest-list>

  <textarea id="quest-editor"></textarea>

  <!-- riot tags -->
  <script type="riot/tag" src="main-menu.tag.html"></script>
  <script type="riot/tag" src="quest-list.tag.html"></script>

  <script src="lib/codemirror.js"></script>
  <script src="lib/xml.js"></script>
  <script src="lib/riot.js"></script>
  <script src="lib/underscore.js"></script>
  <script src="util.js"></script>
  <script src="events.js"></script>
  <script>
    var textarea = document.getElementById('quest-editor')
    window.codeMirrorInstance = CodeMirror.fromTextArea(textarea, {
      mode: 'xml',
      theme: 'night',
      lineWrapping: true
    })
    function setEditorSize() {
      codeMirrorInstance.setSize(window.innerWidth-250-170, window.innerHeight-26-26)
    }
    setEditorSize()
    window.addEventListener('resize', _.throttle(setEditorSize, 100))
    riot.mount('main-menu')
    riot.mount('quest-list')
  </script>
</body>
</html>
<item-card>

  <div class="card">
    <h2>{item().name}</h2>
    <h3>{item().type} L{item().level}</h3>
    <div class="card-row">
      <div>Value: {item().credits}c</div>
    </div>
    <div class="card-row" if={hasAmount(item().attr)}>
      <div>Attributes</div>
      <b>{item().attr.maxhull}</b>
      <b>{item().attr.maxshield}</b>
      <b>{item().attr.maxenergy}</b>
    </div>
    <div class="card-row" if={hasAmount(item().playerBuff)}>
      <div>{playerBuffName()}</div>
      <b>{item().playerBuff.hull}</b>
      <b>{item().playerBuff.shield}</b>
      <b>{item().playerBuff.energy}</b>
    </div>
    <div class="card-row" if={hasAmount(item().targetBuff)}>
      <div>Damage</div>
      <b>{item().targetBuff.hull}</b>
      <b>{item().targetBuff.shield}</b>
      <b>{item().targetBuff.energy}</b>
    </div>
  </div>

  <style>
  </style>

  <script>
    var self = this

    self.item = () => self.opts.item || { name: '', attr: {}, playerBuff: {}, targetBuff: {} }

    self.hasAmount = function (e) {
      return e.hull || e.shield || e.energy || e.maxhull || e.maxshield || e.maxenergy
    }
    
    self.playerBuffName = function () {
      if (self.item().type == 'weapon') return 'Cost/recharge on use'
      if (self.item().type == 'tool') return 'Cost/recharge on use'
      return 'Generated per turn'
    }
  </script>

</item-card>

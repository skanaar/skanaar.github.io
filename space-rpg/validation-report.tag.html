<validation-report>
  <div class="validation-report" if={warnings.length}>
    <div each={e in warnings}>Error: {e.type} <b>{e.name}</b> {e.msg} <b>{e.arg}</b></div>
    <button onclick={validateWorld}>Update</button>
  </div>

  <script>
    var self = this
    var app = self.opts.app || window.app

    self.warnings = []

    self.validateWorld = function () {
      var world = app.getWorld()
      self.warnings = validator.world(world)
      self.update()
    }

    self.on('mount', function () {
      self.validateWorld()
      app.events.on('request-validate', self.validateWorld)
    })

    self.on('unmount', function () {
      app.events.off('request-validate', self.validateWorld)
    })

  </script>
  <style>
    .validation-report {
      position: fixed;
      bottom: 0;
      left: 25%;
      right: 25%;
      border: 1px solid #bbb;
      border-bottom: none;
      background: #fdd;
      border-radius: 2px 2px 0 0;
      max-height: 80px;
      padding: 4px 10px;
      overflow: auto;
      z-index: 10;
    }
    .validation-report button {
      position: fixed;
      bottom: 5px;
      right: 25.5%;
    }
    .validation-report b {
      border: 1px solid #ddd;
      padding: 1px 3px;
      background: #fff;
      border-radius: 3px;
    }
  </style>
</validation-report>